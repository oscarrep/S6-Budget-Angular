<div class="row centered-flex">
    <div class="col-xxl-6 col-9 btn-div">
        @if(filteredName){
        <button class="bl-button z-2 mx-3 d-flex" type="button" (click)="searchByName('')">
            <img class="bl-button-img" [src]='"assets/images/back.png"'>
        </button>
        }
        <div class="bl-search z-2">
            <input class="bl-input" type="text" placeholder="Search by name" (keydown.enter)="searchByName(searchName)"
                [(ngModel)]="searchName">
            <button class="bl-search-btn" type="image" (click)="searchByName(searchName)">
                <img class="bl-search-img" [src]='"assets/images/search.png"'></button>
        </div>
        <button class="bl-button z-2 ms-3 d-flex" type="image" (click)="orderDate()">
            <img class="bl-button-img"
                [src]="toggleDate ? 'assets/images/date-ascending.png':'assets/images/date-descending.png'"></button>
        <button class="bl-button z-2 ms-3 d-flex" type="image" (click)="orderPrice()">
            <img class="bl-button-img"
                [src]="togglePrice ? 'assets/images/price-ascending.png':'assets/images/price-descending.png'"></button>
        <button class="bl-button z-2 mx-3 d-flex" type="image" (click)="orderAbc()">
            <img class="bl-button-img"
                [src]="toggleAbc ? 'assets/images/az-ascending.png':'assets/images/az-descending.png'"></button>
    </div>
</div>
<div class="row centered-flex">
    @for(item of budgetList.requestedBudgets(); track item){
    <div class="col-xxl-6 col-9 bl-item p-3 shadow-lg mx-3 z-2 d-flex justify-content-between">
        <div class="mx-4 my-3 bl-name">
            <h3 class="fw-bold">{{item.name}}</h3>
            <p class="text-muted">{{item.email}}</p>
            <p class="text-muted">{{item.phone}}</p>
        </div>
        <div class="mx-3 bl-services">
            <h6 class="fw-bold">Services:</h6>
            <ul class="list-unstyled mb-0">
                @for(service of item.services; track service){
                <div class="d-block d-xxl-none">
                    <li class="d-flex align-items-start">• {{service}} 
                    </li>@if(service === 'WEB'){
                    <div class="text-muted ms-2">
                        ({{item.pages}} pag, {{item.languages}} lang)
                    </div>
                    }
                </div>
                <div class="d-none d-xxl-block">
                    <li class="d-flex align-items-start">• {{service}}
                        @if(service === 'WEB'){
                        <div class="text-muted ms-2">
                            ({{item.pages}} pages, {{item.languages}} languages)
                        </div>
                        }
                    </li>
                </div>
                }
            </ul>
        </div>
        <div class="mx-3 text-end bl-price">
            <h6 class="text-muted">Total:</h6>
            <h3 class="fw-bold">{{item.totalPrice}} €</h3>
        </div>
    </div>
    }
</div>